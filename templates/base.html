{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Threads</title>
        <link rel="stylesheet" href="{% static 'css/output.css' %}">
        <script src="https://unpkg.com/htmx.org@1.9.4"
                integrity="sha384-zUfuhFKKZCbHTY6aRR46gxiqszMk5tcHjsVFxnUo8VMus4kHGVdIYVbOYYNlKmHV"
                crossorigin="anonymous"></script>
        <script defer src="{% static 'js/tabs.js' %}"></script>
        <script defer src="{% static 'js/newThread.js' %}"></script>
        <script defer src="{% static 'js/messages.js' %}"></script>
        <script defer src="{% static 'js/base.js' %}"></script>
        {% block script %}
        {% endblock script %}
    </head>
    <body class="top-5">
        <div class="max-w-3xl mx-auto w-full min-h-screen">
            <!-- HTMX indicator -->
            <div id="indicator"
                 class="htmx-indicator z-40 bg-white flex flex-col justify-center items-center fixed top-0 left-0 bottom-0 right-0 h-screen">
                <svg width="24"
                     height="24"
                     viewBox="0 0 24 24"
                     xmlns="http://www.w3.org/2000/svg">
                    <style>.spinner_7WDj{transform-origin:center;animation:spinner_PBVY .75s linear infinite}@keyframes spinner_PBVY{100%{transform:rotate(360deg)}}</style>
                    <path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25" />
                    <circle class="spinner_7WDj" cx="12" cy="2.5" r="1.5" />
                </svg>
            </div>
            <!-- Feed Container-->
            <div class="min-h-screen w-full" id="container">
                {% block content %}
                {% endblock content %}
            </div>
            <!-- Nav Container -->
            {% block nav %}
            {% endblock nav %}
            <!-- New thread-->
            {% include "partials/_new_thread.html" %}
            <!-- Reply -->
            {% include "partials/_new_reply.html" %}
        </div>
        <!-- Messages -->
        {% if messages %}
            <ul class="fixed z-50 top-4 flex flex-col space-y-2 w-full max-w-3xl items-center px-2 left-1/2 -translate-x-1/2">
                {% for message in messages %}
                    <li class="alert alert-{{ message.tags }} cursor-pointer">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             fill="none"
                             viewBox="0 0 24 24"
                             class="stroke-current shrink-0 w-6 h-6">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
                            </path>
                        </svg>
                        <span>{{ message }}</span>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
        <a href="{% url 'accounts:logout' %}"
           class="btn fixed right-0 bottom-0 z-50">Logout</a>
    </body>
</html>
